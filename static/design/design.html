<link rel="stylesheet" href="/static/design/design.css" />
<div class="panel-body">
	<div class="btn-toolbar palette">
		<button data-ng-repeat="feature in templates"
			type="button"
			class="btn btn-default"
			dnd-type="'feature'"
			dnd-draggable="feature"
			dnd-effect-allowed="copy"
			uib-tooltip="{{feature.name}}"
			dnd-dragstart="copy({args: feature})">
			<div class="feature SO{{feature.typ.replace('http://purl.obolibrary.org/obo/SO_', '')}}">
			</div>
		</button>
	</div>
	<div class="panel-group designs">
		<div data-ng-repeat="design in query().designs"
			class="panel panel-default"
			name="design-{{$index}}"
			data-ng-form>
			<div class="panel-heading">
				<input type="text" class="form-control" data-ng-model="design.name"/>
				<div class="glyphicon glyphicon-remove pull-right glyphicon-grey" data-ng-click="removeDesign({args: $index})">
				</div>
			</div>
			<div class="panel-body">
				<div class="features" dnd-list="design.features" dnd-allowed-types="['feature']">
					<div data-ng-repeat="feature in design.features"
						id="{{feature.temp_params.id}}"
						name="{{feature.temp_params.id}}"
						data-ng-class="{selected: selected() === feature}"
						data-ng-click="toggleSelected({args: feature})"
						data-ng-form
						class="dropped feature SO{{feature.typ.replace('http://purl.obolibrary.org/obo/SO_', '')}}"
						dnd-type="'feature'"
						dnd-draggable="feature"
						dnd-effect-allowed="move"
						dnd-moved="design.features.splice($index, 1)"
						novalidate>
						<div class="glyphicon glyphicon-remove pull-right glyphicon-grey glyphicon-small" data-ng-click="design.features.splice($index, 1)">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="glyphicon glyphicon-plus pull-right glyphicon-grey" data-ng-click="addDesign()">
	</div>
</div>