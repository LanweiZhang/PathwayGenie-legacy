<!-- Submission form -->
<div class="col-md-6">
	<form class="form-horizontal" role="form" name="form">
		<div class="panel-group" id="accordion">
			<div class="panel panel-default">
				<div class="panel-heading">
						<a data-toggle="collapse" data-parent="#accordion"
							href="#collapse1">Query</a>
					<button type="submit" data-ng-click="ctrl.submit()"
						data-ng-disabled="form.$invalid"
						class="pull-right btn btn-default btn-xs">Submit</button>
				</div>
				<div id="collapse1" class="panel-collapse collapse in">
					<div class="panel-body">
						<div class="form-group">
							<label class="col-xs-4 col-form-label">5' flanking region:</label>
							<div class="col-xs-8">
								<input type="text" class="form-control uppercase"
									data-ng-model="ctrl.query.designs[0].dna.features[0].seq"
									placeholder="Enter 5' flanking region">
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">RBS length:</label>
							<div class="col-xs-8">
								<input type="number" class="form-control"
									data-ng-model="ctrl.query.designs[0].dna.features[1].end" min="35" max="10000"
									placeholder="Enter RBS length" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">RBS TIR:</label>
							<div class="col-xs-8">
								<input type="number" class="form-control"
									data-ng-model="ctrl.query.designs[0].dna.features[1].parameters['TIR target']" min="0" max="200000"
									step="100"
									placeholder="Enter target RBS translation initiation rate"
									required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">Protein name:</label>
							<div class="col-xs-8">
								<input type="text" class="form-control"
									data-ng-model="ctrl.query.designs[0].dna.features[2].options[0].name"
									placeholder="Enter protein name" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">Protein:</label>
							<div class="col-xs-8">
								<input type="text" class="form-control"
									data-ng-model="ctrl.query.designs[0].dna.features[2].options[0].temp_params.aa_seq"
									placeholder="Enter protein (Uniprot id or sequence)" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">3' flanking region:</label>
							<div class="col-xs-8">
								<input type="text" class="form-control uppercase"
									data-ng-model="ctrl.query.designs[0].dna.features[3].seq"
									placeholder="Enter 3' flanking region">
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">Organism:</label>
							<div class="col-xs-8">
								<div data-ng-controller="typeaheadCtrl as typeahead_ctrl">
									<input type="text" class="form-control"
										data-ng-init="typeahead_ctrl.url='/organisms/'"
										data-ng-model="ctrl.query.organism"
										placeholder="Select host organism" required autocomplete="off"
										uib-typeahead="organism as organism.name for organism in typeahead_ctrl.getItem($viewValue)"
										typeahead-min-length="3" typeahead-editable="false">
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-heading">
						<a data-toggle="collapse" data-parent="#accordion"
							href="#collapse2">Filters</a>
				</div>
				<div id="collapse2" class="panel-collapse collapse">
					<div class="panel-body">
						<div class="form-group">
							<label class="col-xs-4 col-form-label">Max repeating nucleotides:</label>
							<div class="col-xs-8">
								<input type="number" class="form-control"
									data-ng-model="ctrl.query.filters.max_repeats" min="5"
									max="1000000" step="1"
									placeholder="Enter maximum repeating nucleotides" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">Excluded codons:</label>
							<div class="col-xs-8">
								<input type="text" class="form-control uppercase"
									data-ng-model="ctrl.query.filters.excl_codons"
									data-ng-pattern="ctrl.excl_codons_regex"
									placeholder="Enter excluded codons">
							</div>
						</div>
						<div class="form-group">
							<label class="col-xs-4 col-form-label">Excluded restriction sites:</label>
							<div class="col-xs-8">
								<select data-ng-model="ctrl.query.filters.restr_enzs"
									data-ng-options="restr_enz as restr_enz.name for restr_enz in ctrl.restr_enzs() | orderBy:'name'"
									data-ng-multiple="true" multiple class="form-control">
								</select>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>

<!-- Results panel -->
<div class="col-md-6" data-ng-controller="resultCtrl as result_ctrl"
	data-ng-show="result_ctrl.results()">
	<result-panel
		results="result_ctrl.results()"
		result="result_ctrl.result()"
		save-results="result_ctrl.saveResults()"
		connected="result_ctrl.connected()"
		feature="result_ctrl.feature()"
		set-feature="result_ctrl.setFeature(ft)">
	</result-panel>
</div>